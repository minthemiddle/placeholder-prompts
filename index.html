<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Placeholder Prompts</title>
        <link rel="stylesheet" href="output.css" />
    </head>

    <body class="bg-gray-100">
        <div class="container mx-auto mt-8 p-4">
            <h1 class="mb-4 text-2xl font-bold">Placeholder Prompts</h1>
            <div x-data="app()" x-init="init()">
                <div class="mb-4">
                    <details open>
                        <summary class="font-medium text-gray-700">
                            Enter Prompt
                        </summary>
                        <textarea
                            x-model="prompt"
                            id="prompt"
                            name="prompt"
                            class="mt-1 w-full rounded-md border border-gray-300 p-2"
                            rows="4"
                            @input="updatePreview"
                        ></textarea>
                    </details>
                </div>
                <div x-show="placeholders.length > 0" class="mb-4">
                    <template
                        x-for="(placeholder, index) in placeholders"
                        :key="index"
                    >
                        <div class="mb-4">
                            <details>
                                <summary
                                    x-text="placeholder.name"
                                    class="font-medium text-gray-700"
                                ></summary>
                                <textarea
                                    x-model="placeholder.value"
                                    class="mt-1 w-full resize-none rounded-md border border-gray-300 p-2"
                                    rows="2"
                                    @input="updatePreview"
                                ></textarea>
                            </details>
                        </div>
                    </template>
                </div>
                <div class="mb-4">
                    <details open>
                        <summary class="font-medium text-gray-700">
                            Preview
                        </summary>
                        <div
                            x-html="renderedPreview"
                            class="prose mt-1 w-full max-w-none rounded-md border border-gray-300 bg-white p-2"
                        ></div>
                        <button
                            x-on:click="copyToClipboard"
                            class="mt-2 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700"
                        >
                            Copy to Clipboard
                        </button>
                    </details>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script defer src="https://unpkg.com/alpinejs"></script>
        <script src="app.js"></script>
    </body>
</html>
